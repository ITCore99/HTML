<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        /*CSS Reset Start*/
        *{margin:0;padding:0}
        li{list-style-type:none}
        body{font:normal bold 16px/2 "宋体"}
        /*Css Reset End*/
    
        /*NewScroll style Start*/
        .NewScroll{width:960px;height:320px; margin:50px auto;background-color:#ccc;position: relative;overflow: hidden;}
        .NewScroll ul{margin:0px auto;width:500px;}
        /*NewScroll style End*/
    </style>
    <script>
        window.onload=function()
        {   
            //使用构造器+原型的方式进行实现
            //核心代码就是将ul里面的代码复制出一份上面完全相同的，如果只要一个的话 7移动着会在底部拉出空白，而如果两个的话当
            //当新闻的第一部分代码刚离开下边距时第二部分填充下面的空白，当第一部分刚一出可是框是第二部分
            //也到了可是框的顶部，这是第一部分的if条件触发让top=0正好第二部分覆盖到第二部分上，由于是完全一样的所以看不出是两层这样就实现连续滚动的效果。真的牛逼。 
            // this.ul.innerHTML+=this.ul.innerHTML; 是实现连续滚动的核心代码。注意这里的ul只能是一个的高度不能是两个的。同时需要注意
            //定时器中的this指向的window.
            //注意在进行面向对象的思想进行编程时我们除了传的参数使用参数其余的所有全部使用this指向，所以说this在面向对象的用法频率非常的高
            //使用class与构造器的类似我在这就不在赘述了，参考class面向对象的实现tab选项卡。
            function CreateNewScroll(scroll)
            {
                this.NewsScroll=document.getElementById(scroll);
                this.ul= this.NewsScroll.getElementsByTagName("ul")[0];
                this.ulOffsetHeight=this.ul.offsetHeight;//注意一定要在这里获取高度，获取高度一定要在这句代码前 this.ul.innerHTML+=this.ul.innerHTML;
                this.init();
            }
            /*实现新闻连续滚动的函数*/
            CreateNewScroll.prototype.init=function()
            {    
                let that=this;
                this.ul.style.position="absolute";
                this.ul.innerHTML+=this.ul.innerHTML;
                 this.ul.style.top=0; 
                setInterval(function(){//注意这里的this指向的是window。
                    let top=(parseInt(that.ul.style.top));
                    console.log(top);
                    if(top<-that.ulOffsetHeight)
                    {  
                       that.ul.style.top=0;
                    }else
                    {  
                        top=top-2   ;
                        that.ul.style.top=top+"px";
                    }
                    console.log(that,top);
                },100);
            }
            new CreateNewScroll("NewScroll1");
            new CreateNewScroll("NewScroll2");
        }
    </script>
</head>
<body>
    <div  id="NewScroll1" class="NewScroll">
        <ul>
            <li>111111111111111111111111111</li>
            <li>2222222222222222222222222222</li>
            <li>333333333333333333333333333333</li>
            <li>44444444444444444444444444444</li>
            <li>5555555555555555555555555555555</li>
            <li>6666666666666666666666666666666</li>
            <li>777777777777777777777777777777</li>
            <li>888888888888888888888888888888888</li>
            <li>99999999999999999999999999999999</li>
            <li>000000000000000000000000000000000000</li>
        </ul>
    </div>
    <div  id="NewScroll2" class="NewScroll">
            <ul>
                <li>111111111111111111111111111</li>
                <li>2222222222222222222222222222</li>
                <li>333333333333333333333333333333</li>
                <li>44444444444444444444444444444</li>
                <li>5555555555555555555555555555555</li>
                <li>6666666666666666666666666666666</li>
                <li>777777777777777777777777777777</li>
                <li>888888888888888888888888888888888</li>
                <li>99999999999999999999999999999999</li>
                <li>000000000000000000000000000000000000</li>
            </ul>
        </div>
</body>
</html>